# modes
:: default   : ~/.config/sketchybar/plugins/skhd-mode default
:: resize   @ : ~/.config/sketchybar/plugins/skhd-mode resize
:: gaps    @ : ~/.config/sketchybar/plugins/skhd-mode gaps
:: layout  @ : ~/.config/sketchybar/plugins/skhd-mode layout
:: move   @ : ~/.config/sketchybar/plugins/skhd-mode move
:: launch   @ : ~/.config/sketchybar/plugins/skhd-mode launch
:: system   @ : ~/.config/sketchybar/plugins/skhd-mode system

ctrl + cmd - r ; resize
ctrl + cmd - o ; layout
ctrl + cmd - g ; gaps
ctrl + cmd - m ; move
ctrl + cmd - a ; launch
ctrl + cmd - x ; system

layout < escape ; default
gaps   < escape ; default
resize  < escape ; default
move   < escape ; default
launch < escape ; default
system < escape ; default

# default mode {{{
ctrl + cmd - h: yabai -m window --focus west  || yabai -m display --focus west
ctrl + cmd - j: yabai -m window --focus south || yabai -m display --focus south
ctrl + cmd - k: yabai -m window --focus north || yabai -m display --focus north
ctrl + cmd - l: yabai -m window --focus east  || yabai -m display --focus east
ctrl + cmd - n: yabai -m window --focus stack.next || yabai -m window --focus stack.first
ctrl + cmd - p: yabai -m window --focus stack.prev || yabai -m window --focus stack.last

hyper - 1     : yabai -m space --focus 1
hyper - 2     : yabai -m space --focus 2
hyper - 3     : yabai -m space --focus 3
hyper - 4     : yabai -m space --focus 4
hyper - 5     : yabai -m space --focus 5
hyper - 6     : yabai -m space --focus 6
hyper - 7     : yabai -m space --focus 7
hyper - 8     : yabai -m space --focus 8
hyper - 9     : yabai -m space --focus 9

cmd + alt - right : yabai -m space --focus next || yabai -m space --focus 1
cmd + alt - left  : yabai -m space --focus prev || yabai -m space --focus last

# }}}
# mode: move {{{
move < 1 : yabai -m window --space 1
move < 2 : yabai -m window --space 2
move < 3 : yabai -m window --space 3
move < 4 : yabai -m window --space 4
move < 5 : yabai -m window --space 5
move < 6 : yabai -m window --space 6

# second screen (usually)
move < 7 : yabai -m window --space 7
move < 8 : yabai -m window --space 8
move < 9 : yabai -m window --space 9

move < h : yabai -m window --warp west
move < j : yabai -m window --warp south
move < k : yabai -m window --warp north
move < l : yabai -m window --warp east
# }}}

# mode: launch {{{
launch < f      : ~/.config/skhd/apps/kitty launch-or-focus ; skhd -k 'escape'
launch < return : ~/.config/skhd/apps/kitty new-window ; skhd -k 'escape'
launch < o      : ~/.config/skhd/apps/obsidian launch-or-focus ; skhd -k 'escape'
# }}}
# mode: resize {{{
resize < h   : yabai -m window --resize left:-64:0 || yabai -m window --resize right:-64:0
resize < j   : yabai -m window --resize top:0:64   || yabai -m window --resize bottom:0:64
resize < k     : yabai -m window --resize top:0:-64  || yabai -m window --resize bottom:0:-64
resize < l  : yabai -m window --resize left:64:0  || yabai -m window --resize right:64:0
resize < shift - h   : yabai -m window --resize right:-64:0  || yabai -m window --resize left:-64:0
resize < shift - j   : yabai -m window --resize bottom:0:64  || yabai -m window --resize up:0:64
resize < shift - k     : yabai -m window --resize bottom:0:-64 || yabai -m window --resize up:0:-64
resize < shift - l  : yabai -m window --resize right:64:0   || yabai -m window --resize left:64:0
# }}}
# mode: gaps {{{
gaps < k : yabai -m space --gap rel:8 --padding rel:8:8:8
gaps < j : yabai -m space --gap rel:-8 --padding rel:-8:-8:-8:-8
gaps < y : yabai -m space --gap abs:320 --padding abs:64:64:256:256
gaps < u : yabai -m space --gap abs:0 --padding abs:0:0:0:0
gaps < i : yabai -m space --gap abs:32 --padding abs:32:32:32:32
gaps < p : yabai -m space --gap abs:256 --padding abs:128:128:256:256
gaps < o : yabai -m space --gap abs:128 --padding abs:128:128:128:128; skhd -k 'escape'
# }}}
# mode: layout {{{
layout < y: yabai -m space --mirror y-axis; skhd -k 'escape'
layout < h: yabai -m window --swap west
layout < l: yabai -m window --swap east
layout < j: yabai -m window --swap south
layout < j: yabai -m window --swap north

layout < shift - h : yabai -m window  west --stack $(yabai -m query --windows --window | jq -r '.id') ; skhd -k 'escape'
layout < shift - k : yabai -m window north --stack $(yabai -m query --windows --window | jq -r '.id') ; skhd -k 'escape'
layout < shift - j : yabai -m window south --stack $(yabai -m query --windows --window | jq -r '.id') ; skhd -k 'escape'
layout < shift - l : yabai -m window  east --stack $(yabai -m query --windows --window | jq -r '.id') ; skhd -k 'escape'

layout < o    : yabai -m space --balance
layout < i    : yabai -m window --ratio abs:0.66
layout < u    : yabai -m window --ratio abs:0.33
layout < p    : yabai -m window --ratio abs:0.5
layout < 0x21 : yabai -m window --ratio abs:0.25 # [
layout < 0x1E : yabai -m window --ratio abs:0.75 # ]
layout < 0x27 : yabai -m window --ratio abs:0.80 # '
layout < z    : yabai -m window --toggle zoom-parent
layout < f    : yabai -m window --toggle native-fullscreen
layout < 0x2C : yabai -m window --toggle split
layout < w    : yabai -m window --toggle float --grid 1:6:1:0:4:1
layout < c    : yabai -m window --toggle float --grid 6:8:2:1:4:4
layout < t    : yabai -m window --toggle float --toggle sticky --toggle topmost

layout < z : yabai -m space --layout bsp
layout < x : yabai -m space --layout float
layout < c : yabai -m space --layout stack
# }}}
# mode: system {{{
system < r : skhd --reload ; skhd -k 'escape' ; ~/.config/sketchybar/plugins/skhd-mode default
# }}}
# vi: fdm=marker
