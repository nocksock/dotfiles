#!/usr/bin/env bash
# tm-p
#   fuzzy open new session. 
#   `p` because a lot of editors these days use it to open a fuzzy finder.
#   mnemonic: pick.


if [[ $# -eq 1 ]]; then
    selected_dir=$1
else
    selected_dir=$(tm-list-projects | fzf --preview="tm-preview {}")
fi

if [[ -z $selected_dir ]]; then
    echo "Cancelled"
    exit 1
fi

tm-open $selected_dir
