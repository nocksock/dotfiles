#!/usr/bin/env zsh

format="%C(yellow)%h%Creset %Cblue%as%Creset %Cred%<(20,trunc)%ae%Creset %s" 

git log ${@}                                          \
  --decorate --color=always --pretty="format:$format" \
  | fzf                                               \
      --ansi --no-sort --track                        \
      --preview="git show --color=always {1}"         \
      --bind "ctrl-m:execute(git show {1} | nvim -c \"set buftype=nofile\")"

