# vim:fileencoding=utf-8:foldmethod=marker

listen_on unix:/tmp/kitty
allow_remote_control yes
editor .
kitty_mod cmd+shift

# look and feel {{{

macos_traditional_fullscreen yes
enable_audio_bell          no
visual_bell_duration       0.100
dynamic_background_opacity yes
hide_window_decorations    titlebar-only
inactive_text_alpha        0.8
window_padding_width       4 8
draw_minimal_borders       yes

# }}}

# tabs {{{
tab_bar_edge               top
tab_bar_style              powerline
tab_powerline_style        slanted
tab_title_template         "{title}"
# }}}

# Font Settings {{{
macos_thicken_font 0
font_size 15.0
adjust_line_height  145%
adjust_column_width 100%
adjust_baseline -1

# font_family      JetBrains Mono Light
# bold_font        JetBrains Mono Bold
# italic_font      JetBrains Mono Italic
# bold_italic_font JetBrains Mono Bold Italic

# other fonts {{{
# font_family      Ligconsolata Regular
# bold_font        Ligconsolata Regular
# italic_font      Ligconsolata Bold
# bold_italic_font Ligconsolata Bold 

font_family      Dank Mono Regular
bold_font        Dank Mono Bold
italic_font      Dank Mono Italic
bold_italic_font Dank Mono Bold Italic

# font_family      Operator Mono Medium
# bold_font        Operator Mono Bold
# bold_italic_font Operator Mono Bold Italic
# italic_font      Operator Mono Book Italic

# font_family      Menlo Regular
# bold_font        Menlo Bold
# italic_font      Menlo Italic
# bold_italic_font Menlo Bold Italic

# font_family      MonoLisa Book
# bold_font        MonoLisa Bold
# bold_italic_font MonoLisa Bold Italic
# italic_font      MonoLisa Book Italic

# font_family      Fira Code Regular
# bold_font        Fira Code Bold
# italic_font      Fira Code Italic
# bold_italic_font Fira Code Bold Italic

# font_family      Envy Code R Regular
# bold_font        Envy Code R Bold
# italic_font      Envy Code R Italic
# bold_italic_font Envy Code R Bold Italic

# font_family      Rec Mono Duotone Regular
# bold_font        Rec Mono Duotone Bold
# italic_font      Rec Mono Duotone Italic
# bold_italic_font Rec Mono Duotone Bold Italic

# font_family      Pragmata Pro Mono Regular
# bold_font        Pragmata Pro Mono Bold
# italic_font      Pragmata Pro Mono Italic
# bold_italic_font Pragmata Pro Mono Bold Italic}}}
# }}}

# shortcuts {{{
macos_option_as_alt right
map cmd+k           no_op
map cmd+opt+s       no_op

map cmd+[           previous_window
map cmd+]           next_window
map cmd+enter       new_window_with
map cmd+shift+enter new_window
map cmd+x           close_window
map cmd+w           close_window
map cmd+shift+'     next_layout
map f1              launch --stdin-source=@screen_scrollback --type=tab nvim -c "setlocal ft=man nonumber nolist showtabline foldcolumn=0" -c "autocmd VimEnter * normal G"
map shift+space>,   launch --type=tab --cwd=~/code/dotfiles/ --title="dotfiles" --copy-env zsh -c "nvim"
map cmd+shift+s     launch --type=overlay --copy-env zsh -c "tmux-select | xargs kitty @ launch --type=tab --copy-env tmux attach -t"

map kitty_mod+equal change_font_size current +1.0
map kitty_mod+minus change_font_size current -1.0
map kitty_mod+0     change_font_size current 0.0

map kitty_mod+h     neighboring_window left
map kitty_mod+j     neighboring_window down
map kitty_mod+k     neighboring_window up
map kitty_mod+l     neighboring_window right
map kitty_mod+n     new_os_window_with_cwd
map kitty_mod+t     new_tab_with_cwd

map ctrl+left     resize_window narrower 6
map ctrl+right    resize_window wider    6
map ctrl+up       resize_window taller   6
map ctrl+down     resize_window shorter  6
map ctrl+option+h resize_window narrower 6
map ctrl+option+j resize_window shorter  6
map ctrl+option+k resize_window taller   6
map ctrl+option+l resize_window wider    6


# window
map shift+space>w>o>n       new_os_window_with_cwd
map shift+space>w>o>shift+N new_os_window
map shift+space>w>n         new_window_with_cwd
map shift+space>w>shift+N   new_window
map shift+space>w>c         close_window
map shift+space>w>shift+c   close_os_window
map shift+space>w>s         launch --location=hsplit --cwd=current
map shift+space>w>shift+S   launch --location=hsplit
map shift+space>w>z         toggle_layout stack
map shift+space>w>v         launch --location=vsplit --cwd=current
map shift+space>w>shift+v   launch --location=vsplit
map shift+space>w>r         layout_action rotate
map shift+space>w>=         resize_window reset
map shift+space>w>z         toggle_layout stack
map shift+space>w>x         swap_with_window
map shift+space>w>shift+T  detach_window new_tab
map shift+space>w>d  detach_window ask

# tab
map shift+space>t>t set_tab_title
map shift+space>t>s select_tab
map shift+space>t>c close_tab
map shift+space>t>d detach_tab ask
map shift+space>t>n new_tab
map shift+space>t>N new_tab_with_cwd

# alpha (opacity)
map shift+space>a>1   set_background_opacity 1
map shift+space>a>2   set_background_opacity 0.8
map shift+space>a>3   set_background_opacity 0.4
map shift+space>a>l   set_background_opacity -0.1
map shift+space>a>m   set_background_opacity +0.1
map shift+space>a>r   set_background_opacity default

# fonts
map shift+space>f>b   change_font_size current 30
map shift+space>f>s   change_font_size current 11
map shift+space>f>r   change_font_size current 15
map shift+space>f>B   change_font_size all 30
map shift+space>f>S   change_font_size all 11
map shift+space>f>R   change_font_size all 15

# quick access things
map shift+space>q>b        launch --type=tab --copy-env box
map shift+space>q>p       launch --type=overlay --title="choose project" ~/code/dotfiles/bin/kitty-qp
map shift+space>q>shift+p launch --type=os-window --title="choose project" ~/code/dotfiles/bin/kitty-qp os-window

# grab
map shift+space>g>n launch --type=tab --stdin-source @last_cmd_output --copy-env zsh -c "nvim -"
map shift+space>g>c launch --stdin-source @last_cmd_output pbcopy

# hints (visible text)
map shift+space>h>u open_url_with_hints

# marker
map shift+space>m>c   create_marker

# layout
map shift+space>l>n   next_layout

# zcrolling
map shift+space>z>p scroll_to_prompt -1
map shift+space>z>n scroll_to_prompt 1
map shift+space>z>r scroll_to_prompt 0
map shift+space>z>t scroll_prompt_to_top
map shift+space>z>b scroll_prompt_to_bottom

# xystem
map shift+space>x>r   load_config_file
map shift+space>x>s   kitty_shell window
map shift+space>x>t   kitten themes
map shift+space>x>h   show_kitty_doc overview

# }}}

# BEGIN_KITTY_THEME
# Ros√© Pine
include current-theme.conf
# END_KITTY_THEME
